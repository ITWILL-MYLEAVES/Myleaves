<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/base_layout}">
	<main layout:fragment="main">
		<div class="container">
			<div class="text-center my-5">
				<h1>내가 작성한 QnA 리스트</h1>
			</div>
		<form id="qnamyalldeleteForm" method="post" class="my-2">	
		   	<table class="table center">
				<thead>
					<tr>
						<th scope="col"><input type="checkbox" id="selectAll" /></th>
						<th scope="col">No.</th>
						<th scope="col">제목</th>
						<th scope="col">작성일</th>
					</tr>
				</thead>
				<tbody class="table-group-divider">
					<tr th:each="qnalist: ${myQnAlist}">
						<td scope="col">
							<input type="checkbox" id="selectedQnaIds" name="selectedQnaIds" th:value="${qnalist.qid}" />
							<input type="hidden" id="hiddenSelectedQnaIds" name="hiddenSelectedQnaIds" th:value="${qnalist.qid}" />
							<input type="hidden" id="hiddenuserId" name="hiddenSelectedQnaIds" th:value="${qnalist.userId}" />
						</td>
						<th th:text=${qnalist.qid}></th>
						<td scope="col">
							<a th:href="@{/mypage/qna/detail?(userId=${#authentication.name},qid=${qnalist.qid})}" th:text=${qnalist.title}></a>
						</td>
						<td scope="col" th:text="${#temporals.format(qnalist.createdDate, 'yy-MM-dd HH:mm')}"></td> 
					</tr>	
				</tbody>
			</table>
		</form>
		<!-- 페이징처리 시작 -->
		<div class="text-center">
			<th:block th:each="page:${#numbers.sequence(startPage,endPage)}">
	            <a th:if="${page != nowPage}" th:href="@{/mypage/qna/qna_list(userId=${#authentication.name},page=${page - 1})}" th:text="${page}"></a>
	            <strong th:if="${page==nowPage}" th:text ="${page}" style="color:red"></strong>
	        </th:block>
        </div>
		<!-- 페이징처리 끝 -->	
		<div style="text-align: center;" class="my-2">
			<a class="btn btn-outline-success" th:href="@{/info/qna/create}">문의하기</a>
			<button class="btn btn-outline-success" type="submit" id="btnAllDelete">삭제</button>
		</div>
</div>	
	<script src="/js/info/qna/my_qna_alldelete.js"></script>
	</main>
</html>
